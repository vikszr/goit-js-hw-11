{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function fetchImages(query) {\n  const API_KEY = '46880481-b4b8ce5da8d344b0e4ba41140';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const response = fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n\n  return response;\n}\n","export default function createGalleryCard(image) {\n  return `\n    <div class= \"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">  \n    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\" loading=\"lazy\"/>\n    <div class=\"image-info\">\n    <p class=\"info\"> <b>Likes</b> ${image.likes}</p>\n    <p class=\"info\"> <b>Views</b> ${image.views}</p>\n    <p class=\"info\"> <b>Comments</b> ${image.comments}</p>\n    <p class=\"info\"> <b>Downloads</b> ${image.downloads}</p>\n    </div>\n    </a>\n    </div>\n    `;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport fetchImages from './js/pixabay-api';\nimport createGalleryCard from './js/render-functions';\n\nconst input = document.querySelector('.input');\nconst button = document.querySelector('.button');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst simpleLightBox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nbutton.addEventListener('click', event => {\n  event.preventDefault();\n  const inputValue = input.value;\n  console.log(inputValue);\n  if (inputValue === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter search query',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n\n  fetchImages(inputValue)\n    .then(data => {\n      loader.style.display = 'none';\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      const html = data.hits.map(hit => createGalleryCard(hit)).join('');\n      gallery.innerHTML = html;\n      simpleLightBox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'An error occured while fetching images. Please try again later!',\n      });\n      console.log(error);\n    });\n});\n"],"names":["fetchImages","query","API_KEY","BASE_URL","searchParams","response","createGalleryCard","image","input","button","gallery","loader","simpleLightBox","SimpleLightbox","event","inputValue","iziToast","data","html","hit","error"],"mappings":"wvBAAe,SAASA,EAAYC,EAAO,CACzC,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAe,IAAI,gBAAgB,CACvC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EASD,OAPiB,MAAM,GAAGE,CAAQ,IAAIC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACrE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CAGH,CCnBe,SAASC,EAAkBC,EAAO,CAC/C,MAAO;AAAA;AAAA,oCAE2BA,EAAM,aAAa;AAAA,gBACvCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,oCAElBA,EAAM,KAAK;AAAA,oCACXA,EAAM,KAAK;AAAA,uCACRA,EAAM,QAAQ;AAAA,wCACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAKvD,CCPA,MAAMC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAiB,IAAIC,EAAe,aAAc,CACtD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAO,iBAAiB,QAASK,GAAS,CACxCA,EAAM,eAAc,EACpB,MAAMC,EAAaP,EAAM,MAEzB,GADA,QAAQ,IAAIO,CAAU,EAClBA,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACf,CAAK,EACD,MACD,CAEDN,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAEvBX,EAAYe,CAAU,EACnB,KAAKE,GAAQ,CAEZ,GADAN,EAAO,MAAM,QAAU,OACnBM,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACD,MACD,CACD,MAAME,EAAOD,EAAK,KAAK,IAAIE,GAAOb,EAAkBa,CAAG,CAAC,EAAE,KAAK,EAAE,EACjET,EAAQ,UAAYQ,EACpBN,EAAe,QAAO,CAC5B,CAAK,EACA,MAAMQ,GAAS,CACdJ,EAAS,MAAM,CACb,MAAO,QACP,QACE,iEACV,CAAO,EACD,QAAQ,IAAII,CAAK,CACvB,CAAK,CACL,CAAC"}